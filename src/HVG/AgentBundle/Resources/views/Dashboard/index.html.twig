{% extends 'HVGSystemBundle::base.html.twig' %}
{% use 'HVGSystemBundle::navbar.html.twig' %}
{% use 'HVGAgentBundle::sidebar.html.twig' %}
{% use 'HVGSystemBundle::icons.html.twig' %}

{% set translation_domain = 'HVGAgentBundle' %}
{% trans_default_domain translation_domain %}

{% block title %}{{ 'dashboard.index.title'|trans }}{% endblock %}

{% block body %}
    <div id="page-wrapper">
        <div class="row" id="page-header">
            <div class="col-lg-12">
                <h1 class="page-header">{% block icons %}{{ parent() }}{% endblock %}{{ 'dashboard.index.title'|trans }}</h1>
                {% include 'HVGSystemBundle::flashbag.html.twig' with { 'translation_domain': translation_domain } %}
            </div>
        </div>
        <!-- /#page-header -->

        <div class="row">
{#}
            <div class="col-md-3">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">{{ icon('comments fa-fw fa-4x') }}</div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">78</div>
                                <div>{{ 'dashboard.counter.petition' }}</div>
                            </div>
                        </div>
                        
                    </div>
                    <a href="{{ path('agent_ticket_index') }}">
                        <div class="panel-footer">
                            <div class="pull-left">{{ 'dashboard.link.petition'|trans }}</div>
                            <div class="pull-right">{{ icon('arrow-circle-right fa-fw fa-lg') }}</div>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>

            <div class="col-md-3">
                <div class="panel panel-green">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">{{ icon('tasks fa-fw fa-4x') }}</div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">25</div>
                                <div>{{ 'dashboard.counter.petitionaction' }}</div>
                            </div>
                        </div>
                        
                    </div>
                    <a href="{{ path('agent_petitionaction_index') }}">
                        <div class="panel-footer">
                            <div class="pull-left">{{ 'dashboard.link.petitionaction'|trans }}</div>
                            <div class="pull-right">{{ icon('arrow-circle-right fa-fw fa-lg') }}</div>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
{#}

            <div class="col-md-3">
                <div class="panel panel-yellow">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">{{ icon('ticket fa-fw fa-5x') }}</div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">{{ tickets|length }}</div>
                                <div>{{ 'dashboard.counter.ticket'|trans }}</div>
                            </div>
                        </div>
                    </div>
                    <a href="{{ path('agent_ticket_my') }}">
                        <div class="panel-footer">
                            <div class="pull-left">{{ 'ticket.my.link'|trans }}</div>
                            <div class="pull-right">{{ icon('arrow-circle-right fa-fw fa-lg') }}</div>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>

            <div class="col-md-3">
                <div class="panel panel-red">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">{{ icon('hand-o-up fa-fw fa-5x') }}</div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">{{ petitions|length }}</div>
                                <div>{{ 'dashboard.counter.petition'|trans }}</div>
                            </div>
                        </div>
                    </div>
                    <a href="{{ path('agent_petition_my') }}">
                        <div class="panel-footer">
                            <div class="pull-left">{{ 'petition.my.link'|trans }}</div>
                            <div class="pull-right">{{ icon('arrow-circle-right fa-fw fa-lg') }}</div>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h1 class="panel-title">Anuncios de desarrollo del sistema: V1.0.3</h1>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item">Formulario de edición de requerimiento permite agregar y eliminar objetivos</li>
                        <li class="list-group-item">Las referencias de requerimientos pueden eliminarse</li>
                        <li class="list-group-item">Los objetivos pueden reiniciarse (volver a dejar incompleto)</li>
                        <li class="list-group-item">Reparación de errores en íconos y links</li>
                        <li class="list-group-item">Estandarización y rediseño de algunas secciones de la vista de requerimientos</li>
                        <li class="list-group-item">Las acciones en requerimientos se muestran ordenadas desde la última a la primera</li>
                    </ul>
                </div>
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h1 class="panel-title">Anuncios de desarrollo del sistema: V1.0.2</h1>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item">Formulario de edición de requerimiento no permite cambio de estado ni de objetivos</li>
                        <li class="list-group-item">Nueva opción para hacer referencias entre requerimientos</li>
                        <li class="list-group-item">La referencia desde un requerimiento a otro servirá para hacer seguimiento de un requerimiento precedente</li>
                        <li class="list-group-item">Nuevo estado agregado (eliminado). Servirá para próxima mejora de canalización de información</li>
                        <li class="list-group-item">Otros cambios menores y correcciondes de código</li>
                    </ul>
                </div>
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h1 class="panel-title">Anuncios de desarrollo del sistema: V1.0.1</h1>
                    </div>
                    <ul class="list-group">
                        <li class="list-group-item">Nuevo botón para ingresar nuevos requerimientos en la bandeja de requerimientos</li>
                        <li class="list-group-item">La bandeja de Requerimientos oculta los requerimientos archivados</li>
                        <li class="list-group-item">La bandeja de Tickets oculta los tickets archivados</li>
                        <li class="list-group-item">Los contadores de la vista general reflejan los tickets Activos (no archivados)</li>
                        <li class="list-group-item">En las bandejas de tickets y requerimientos se puede hacer ordenamiento y paginación</li>
                        <li class="list-group-item">Otros cambios menores</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="page-modal">
            <div class="modal fade" id="modalNewTicket" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">{{ icon('times') }}</button>
                            <h4 class="modal-title" id="myModalLabel">{{ 'ticket.new.title'|trans }}</h4>
                        </div>
                        <div class="modal-body">
                            <div class="row">
                                <div class="col-xs-12">
                                    {{ form_start(newTicketForm, { 'style': 'horizontal' }) }}
                                        {{ form_widget(newTicketForm) }}
                                        <div class="form-group"><div class="col-lg-offset-4 col-lg-8">
                                            <button type="submit" class="btn btn-primary">{{ icon('check fa-fw') }}&nbsp;{{ 'ticket.new.submit'|trans }}</button>
                                        </div></div>
                                    {{ form_end(newTicketForm) }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-modal -->

    </div>
    <!-- /#page-wrapper -->

{% endblock %}

{% block stylesheet %}
    <style type="text/css">
        .huge { font-size: 3em; }
        .panel-green {
            border-color: #5cb85c;
        }
        .panel-green > .panel-heading {
            border-color: #5cb85c;
            color: white;
            background-color: #5cb85c;
        }
        .panel-green > a {
            color: #5cb85c;
        }
        .panel-green > a:hover {
            color: #3d8b3d;
        }
        .panel-red {
            border-color: #d9534f;
        }
        .panel-red > .panel-heading {
            border-color: #d9534f;
            color: white;
            background-color: #d9534f;
        }
        .panel-red > a {
            color: #d9534f;
        }
        .panel-red > a:hover {
            color: #b52b27;
        }
        .panel-yellow {
            border-color: #f0ad4e;
        }
        .panel-yellow > .panel-heading {
            border-color: #f0ad4e;
            color: white;
            background-color: #f0ad4e;
        }
        .panel-yellow > a {
            color: #f0ad4e;
        }
        .panel-yellow > a:hover {
            color: #df8a13;
        }
    </style>
{% endblock %}